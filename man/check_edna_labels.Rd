% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{check_edna_labels}
\alias{check_edna_labels}
\title{Check eDNA Labels}
\usage{
check_edna_labels(hdr, edna_data)
}
\arguments{
\item{hdr}{A list containing the root URL and API key for authentication (from auth_headers()).}

\item{edna_data}{A data frame or tibble with eDNA records containing the following columns:
\itemize{
  \item marker_name: The genetic marker used (required)
  \item sequence: DNA sequence (required)
  \item primer: Primer used for amplification (required)
  \item timestamp: Timestamp for the record (required)
  \item kingdom: Kingdom taxonomic rank (optional)
  \item phylum: Phylum taxonomic rank (optional)
  \item class: Class taxonomic rank (optional, note: 'class_' can also be used)
  \item order: Order taxonomic rank (optional)
  \item family: Family taxonomic rank (optional)
  \item genus: Genus taxonomic rank (optional)
  \item species: Species taxonomic rank (optional)
  \item confidence: Confidence score 0-100 (optional, defaults to 100)
}}
}
\value{
A tibble with the original data plus additional columns:
  \itemize{
    \item label: The matched label name from the database
    \item label_id: The database ID of the matched label
    \item status: "success" or "error"
    \item message: Status message describing the result
  }
}
\description{
Validates eDNA records against the Okala database and returns matching labels.
Uses a hierarchical taxonomy approach: species -> genus -> family -> order -> class -> phylum -> kingdom.
Returns the most specific taxonomic level that matches the database.
}
\examples{
\dontrun{
  headers <- auth_headers()
  
  edna_records <- data.frame(
    marker_name = "COI",
    sequence = "ACGTACGT",
    primer = "mlCOIintF",
    timestamp = "2024-01-15 10:30:00",
    species = "Panthera leo",
    genus = "Panthera",
    family = "Felidae",
    confidence = 95
  )
  
  validated <- check_edna_labels(headers, edna_records)
}

}
\author{
Adam Varley
}
